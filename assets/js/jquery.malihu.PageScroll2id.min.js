!function(e,t,a,l){var n,i,s,o,r,c,u,g,h,f,d,p={scrollSpeed:600,autoScrollSpeed:!0,scrollEasing:"easeInOutExpo",scrollingEasing:"easeInOutCirc",pageEndSmoothScroll:!0,layout:"vertical",offset:0,highlightSelector:!1,clickedClass:"mPS2id-clicked",targetClass:"mPS2id-target",highlightClass:"mPS2id-highlight",forceSingleHighlight:!1,keepHighlightUntilNext:!1,highlightByNextTarget:!1,disablePluginBelow:!1,clickEvents:!0,onStart:function(){},onComplete:function(){},defaultSelector:!1,live:!0},m=0,S={init:function(l){var l=e.extend(!0,{},p,l);e(a).data("mPS2id",l),i=e(a).data("mPS2id"),n=n?n+","+this.selector:this.selector,i.defaultSelector&&("object"==typeof e(n)&&0!==e(n).length||(n=".m_PageScroll2id,a[rel~='m_PageScroll2id'],.page-scroll-to-id,a[rel~='page-scroll-to-id']")),i.clickEvents&&e(a).undelegate(".mPS2id").delegate(n,"click.mPS2id",function(t){if(_._isDisabled.call(null))_._removeClasses.call(null);else{var a=e(this),l=a.attr("href"),n=a.prop("href");l&&-1!==l.indexOf("#/")||(_._reset.call(null),f=a.data("ps2id-offset")||0,_._isValid.call(null,l,n)&&_._findTarget.call(null,l)&&(t.preventDefault(),o="selector",r=a,_._setClasses.call(null,!0),_._scrollTo.call(null)))}}),e(t).unbind(".mPS2id").bind("scroll.mPS2id resize.mPS2id",function(){if(_._isDisabled.call(null))_._removeClasses.call(null);else{var t=e("._mPS2id-t");t.each(function(a){var l=e(this),n=l.attr("id"),i=_._findHighlight.call(null,n);_._setClasses.call(null,!1,l,i),a==t.length-1&&_._extendClasses.call(null)})}}),s=!0,_._setup.call(null),_._live.call(null)},scrollTo:function(t,a){if(_._isDisabled.call(null))_._removeClasses.call(null);else if(t&&void 0!==t){_._isInit.call(null);var l={layout:i.layout,offset:i.offset,clicked:!1},a=e.extend(!0,{},l,a);_._reset.call(null),g=a.layout,h=a.offset,t=-1!==t.indexOf("#")?t:"#"+t,_._isValid.call(null,t)&&_._findTarget.call(null,t)&&(o="scrollTo",(r=a.clicked)&&_._setClasses.call(null,!0),_._scrollTo.call(null))}},destroy:function(){e(t).unbind(".mPS2id"),e(a).undelegate(".mPS2id").removeData("mPS2id"),e("._mPS2id-t").removeData("mPS2id"),_._removeClasses.call(null,!0)}},_={_isDisabled:function(){var e=t,l="inner",n=i.disablePluginBelow instanceof Array?[i.disablePluginBelow[0]||0,i.disablePluginBelow[1]||0]:[i.disablePluginBelow||0,0];return"innerWidth"in t||(l="client",e=a.documentElement||a.body),e[l+"Width"]<=n[0]||e[l+"Height"]<=n[1]},_isValid:function(e,a){if(e){var l=-1!==(a=a||e).indexOf("#/")?a.split("#/")[0]:a.split("#")[0],n=t.location.toString().split("#")[0];return"#"!==e&&-1!==e.indexOf("#")&&(""===l||l===n)}},_setup:function(){var t=_._highlightSelector(),a=1,l=0;return e(t).each(function(){var n=e(this),s=n.attr("href"),o=n.prop("href");if(_._isValid.call(null,s,o)){var r=-1!==s.indexOf("#/")?s.split("#/")[1]:s.split("#")[1],c=e("#"+r);if(c.length>0){i.highlightByNextTarget&&c!==l&&(l?l.data("mPS2id",{tn:c}):c.data("mPS2id",{tn:"0"}),l=c),c.hasClass("_mPS2id-t")||c.addClass("_mPS2id-t"),c.data("mPS2id",{i:a}),n.hasClass("_mPS2id-h")||n.addClass("_mPS2id-h");var u=_._findHighlight.call(null,r);_._setClasses.call(null,!1,c,u),m=a,++a==e(t).length&&_._extendClasses.call(null)}}})},_highlightSelector:function(){return i.highlightSelector&&""!==i.highlightSelector?i.highlightSelector:n},_findTarget:function(t){var a=-1!==t.indexOf("#/")?t.split("#/")[1]:t.split("#")[1],l=e("#"+a);if(l.length<1||"fixed"===l.css("position")){if("top"!==a)return;l=e("body")}return c=l,g||(g=i.layout),h=_._setOffset.call(null),u=[(l.offset().top-h[0]).toString(),(l.offset().left-h[1]).toString()],u[0]=u[0]<0?0:u[0],u[1]=u[1]<0?0:u[1],u},_setOffset:function(){h||(h=i.offset?i.offset:0),f&&(h=f);var t,a,l,n;switch(typeof h){case"object":case"string":(a=[(t=[h.y?h.y:h,h.x?h.x:h])[0]instanceof jQuery?t[0]:e(t[0]),t[1]instanceof jQuery?t[1]:e(t[1])])[0].length>0?(l=a[0].height(),"fixed"===a[0].css("position")&&(l+=a[0][0].offsetTop)):l=!isNaN(parseFloat(t[0]))&&isFinite(t[0])?parseInt(t[0]):0,a[1].length>0?(n=a[1].width(),"fixed"===a[1].css("position")&&(n+=a[1][0].offsetLeft)):n=!isNaN(parseFloat(t[1]))&&isFinite(t[1])?parseInt(t[1]):0;break;case"function":(t=h.call(null))instanceof Array?(l=t[0],n=t[1]):l=n=t;break;default:l=n=parseInt(h)}return[l,n]},_findHighlight:function(a){var l=t.location.toString().split("#")[0],n=e("._mPS2id-h[href='#"+a+"']"),i=e("._mPS2id-h[href='"+l+"#"+a+"']"),s=e("._mPS2id-h[href='#/"+a+"']"),o=e("._mPS2id-h[href='"+l+"#/"+a+"']");return n=n.length>0?n:i,(s=s.length>0?s:o).length>0?s:n},_setClasses:function(t,a,l){var n=i.clickedClass,s=i.targetClass,o=i.highlightClass;t&&n&&""!==n?(e("."+n).removeClass(n),r.addClass(n)):a&&s&&""!==s&&l&&o&&""!==o&&(_._currentTarget.call(null,a)?(a.addClass(s),l.addClass(o)):(!i.keepHighlightUntilNext||e("."+o).length>1)&&(a.removeClass(s),l.removeClass(o)))},_extendClasses:function(){var t=i.targetClass,a=i.highlightClass,l=e("."+t),n=e("."+a),s=t+"-first",o=t+"-last",r=a+"-first",c=a+"-last";e("._mPS2id-t").removeClass(s+" "+o),e("._mPS2id-h").removeClass(r+" "+c),i.forceSingleHighlight?i.keepHighlightUntilNext&&l.length>1?(l.slice(0,1).removeClass(t),n.slice(0,1).removeClass(a)):(l.slice(1).removeClass(t),n.slice(1).removeClass(a)):(l.slice(0,1).addClass(s).end().slice(-1).addClass(o),n.slice(0,1).addClass(r).end().slice(-1).addClass(c))},_removeClasses:function(t){e("."+i.clickedClass).removeClass(i.clickedClass),e("."+i.targetClass).removeClass(i.targetClass+" "+i.targetClass+"-first "+i.targetClass+"-last"),e("."+i.highlightClass).removeClass(i.highlightClass+" "+i.highlightClass+"-first "+i.highlightClass+"-last"),t&&(e("._mPS2id-t").removeClass("_mPS2id-t"),e("._mPS2id-h").removeClass("_mPS2id-h"))},_currentTarget:function(a){var l=i["target_"+a.data("mPS2id").i],n=a.data("ps2id-target"),s=n?e(n)[0].getBoundingClientRect():a[0].getBoundingClientRect();if(void 0!==l){var o=a.offset().top,r=a.offset().left,c=l.from?l.from+o:o,u=l.to?l.to+o:o,g=l.fromX?l.fromX+r:r,h=l.toX?l.toX+r:r;return s.top>=u&&s.top<=c&&s.left>=h&&s.left<=g}var f=e(t).height(),d=e(t).width(),p=n?e(n).height():a.height(),m=n?e(n).width():a.width(),S=1+p/f,_=S,C=p<f?S*(f/p):S,v=1+m/d,P=v,I=m<d?v*(d/m):v,O=[s.top<=f/_,s.bottom>=f/C,s.left<=d/P,s.right>=d/I];if(i.highlightByNextTarget){var b=a.data("mPS2id").tn;if(b){var M=b[0].getBoundingClientRect();"vertical"===i.layout?O=[s.top<=f/2,M.top>f/2,1,1]:"horizontal"===i.layout&&(O=[1,1,s.left<=d/2,M.left>d/2])}}return O[0]&&O[1]&&O[2]&&O[3]},_scrollTo:function(){i.scrollSpeed=parseInt(i.scrollSpeed),u=i.pageEndSmoothScroll?_._pageEndSmoothScroll.call(null):u;var a=e("html,body"),l=i.autoScrollSpeed?_._autoScrollSpeed.call(null):i.scrollSpeed,n=a.is(":animated")?i.scrollingEasing:i.scrollEasing,s=e(t).scrollTop(),o=e(t).scrollLeft();switch(g){case"horizontal":o!=u[1]&&(_._callbacks.call(null,"onStart"),a.stop().animate({scrollLeft:u[1]},l,n).promise().then(function(){_._callbacks.call(null,"onComplete")}));break;case"auto":if(s!=u[0]||o!=u[1])if(_._callbacks.call(null,"onStart"),navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){var r;a.stop().animate({pageYOffset:u[0],pageXOffset:u[1]},{duration:l,easing:n,step:function(e,a){"pageXOffset"==a.prop?r=e:"pageYOffset"==a.prop&&t.scrollTo(r,e)}}).promise().then(function(){_._callbacks.call(null,"onComplete")})}else a.stop().animate({scrollTop:u[0],scrollLeft:u[1]},l,n).promise().then(function(){_._callbacks.call(null,"onComplete")});break;default:s!=u[0]&&(_._callbacks.call(null,"onStart"),a.stop().animate({scrollTop:u[0]},l,n).promise().then(function(){_._callbacks.call(null,"onComplete")}))}},_pageEndSmoothScroll:function(){var l=e(a).height(),n=e(a).width(),i=e(t).height(),s=e(t).width();return[l-u[0]<i?l-i:u[0],n-u[1]<s?n-s:u[1]]},_autoScrollSpeed:function(){var l=e(t).scrollTop(),n=e(t).scrollLeft(),s=e(a).height(),o=e(a).width(),r=[i.scrollSpeed+i.scrollSpeed*Math.floor(Math.abs(u[0]-l)/s*100)/100,i.scrollSpeed+i.scrollSpeed*Math.floor(Math.abs(u[1]-n)/o*100)/100];return Math.max.apply(Math,r)},_callbacks:function(e){if(i)switch(this.mPS2id={trigger:o,clicked:r,target:c,scrollTo:{y:u[0],x:u[1]}},e){case"onStart":i.onStart.call(null,this.mPS2id);break;case"onComplete":i.onComplete.call(null,this.mPS2id)}},_reset:function(){g=h=f=!1},_isInit:function(){s||S.init.apply(this)},_live:function(){d=setTimeout(function(){i.live?e(_._highlightSelector()).length!==m&&_._setup.call(null):d&&clearTimeout(d),_._live.call(null)},1e3)},_easing:function(){e.easing.easeInQuad=e.easing.easeInQuad||function(e,t,a,l,n){return l*(t/=n)*t+a},e.easing.easeOutQuad=e.easing.easeOutQuad||function(e,t,a,l,n){return-l*(t/=n)*(t-2)+a},e.easing.easeInOutQuad=e.easing.easeInOutQuad||function(e,t,a,l,n){return(t/=n/2)<1?l/2*t*t+a:-l/2*(--t*(t-2)-1)+a},e.easing.easeInCubic=e.easing.easeInCubic||function(e,t,a,l,n){return l*(t/=n)*t*t+a},e.easing.easeOutCubic=e.easing.easeOutCubic||function(e,t,a,l,n){return l*((t=t/n-1)*t*t+1)+a},e.easing.easeInOutCubic=e.easing.easeInOutCubic||function(e,t,a,l,n){return(t/=n/2)<1?l/2*t*t*t+a:l/2*((t-=2)*t*t+2)+a},e.easing.easeInQuart=e.easing.easeInQuart||function(e,t,a,l,n){return l*(t/=n)*t*t*t+a},e.easing.easeOutQuart=e.easing.easeOutQuart||function(e,t,a,l,n){return-l*((t=t/n-1)*t*t*t-1)+a},e.easing.easeInOutQuart=e.easing.easeInOutQuart||function(e,t,a,l,n){return(t/=n/2)<1?l/2*t*t*t*t+a:-l/2*((t-=2)*t*t*t-2)+a},e.easing.easeInQuint=e.easing.easeInQuint||function(e,t,a,l,n){return l*(t/=n)*t*t*t*t+a},e.easing.easeOutQuint=e.easing.easeOutQuint||function(e,t,a,l,n){return l*((t=t/n-1)*t*t*t*t+1)+a},e.easing.easeInOutQuint=e.easing.easeInOutQuint||function(e,t,a,l,n){return(t/=n/2)<1?l/2*t*t*t*t*t+a:l/2*((t-=2)*t*t*t*t+2)+a},e.easing.easeInExpo=e.easing.easeInExpo||function(e,t,a,l,n){return 0==t?a:l*Math.pow(2,10*(t/n-1))+a},e.easing.easeOutExpo=e.easing.easeOutExpo||function(e,t,a,l,n){return t==n?a+l:l*(1-Math.pow(2,-10*t/n))+a},e.easing.easeInOutExpo=e.easing.easeInOutExpo||function(e,t,a,l,n){return 0==t?a:t==n?a+l:(t/=n/2)<1?l/2*Math.pow(2,10*(t-1))+a:l/2*(2-Math.pow(2,-10*--t))+a},e.easing.easeInSine=e.easing.easeInSine||function(e,t,a,l,n){return-l*Math.cos(t/n*(Math.PI/2))+l+a},e.easing.easeOutSine=e.easing.easeOutSine||function(e,t,a,l,n){return l*Math.sin(t/n*(Math.PI/2))+a},e.easing.easeInOutSine=e.easing.easeInOutSine||function(e,t,a,l,n){return-l/2*(Math.cos(Math.PI*t/n)-1)+a},e.easing.easeInCirc=e.easing.easeInCirc||function(e,t,a,l,n){return-l*(Math.sqrt(1-(t/=n)*t)-1)+a},e.easing.easeOutCirc=e.easing.easeOutCirc||function(e,t,a,l,n){return l*Math.sqrt(1-(t=t/n-1)*t)+a},e.easing.easeInOutCirc=e.easing.easeInOutCirc||function(e,t,a,l,n){return(t/=n/2)<1?-l/2*(Math.sqrt(1-t*t)-1)+a:l/2*(Math.sqrt(1-(t-=2)*t)+1)+a},e.easing.easeInElastic=e.easing.easeInElastic||function(e,t,a,l,n){var i=1.70158,s=0,o=l;if(0==t)return a;if(1==(t/=n))return a+l;if(s||(s=.3*n),o<Math.abs(l)){o=l;i=s/4}else i=s/(2*Math.PI)*Math.asin(l/o);return-o*Math.pow(2,10*(t-=1))*Math.sin((t*n-i)*(2*Math.PI)/s)+a},e.easing.easeOutElastic=e.easing.easeOutElastic||function(e,t,a,l,n){var i=1.70158,s=0,o=l;if(0==t)return a;if(1==(t/=n))return a+l;if(s||(s=.3*n),o<Math.abs(l)){o=l;i=s/4}else i=s/(2*Math.PI)*Math.asin(l/o);return o*Math.pow(2,-10*t)*Math.sin((t*n-i)*(2*Math.PI)/s)+l+a},e.easing.easeInOutElastic=e.easing.easeInOutElastic||function(e,t,a,l,n){var i=1.70158,s=0,o=l;if(0==t)return a;if(2==(t/=n/2))return a+l;if(s||(s=n*(.3*1.5)),o<Math.abs(l)){o=l;i=s/4}else i=s/(2*Math.PI)*Math.asin(l/o);return t<1?o*Math.pow(2,10*(t-=1))*Math.sin((t*n-i)*(2*Math.PI)/s)*-.5+a:o*Math.pow(2,-10*(t-=1))*Math.sin((t*n-i)*(2*Math.PI)/s)*.5+l+a},e.easing.easeInBack=e.easing.easeInBack||function(e,t,a,l,n,i){return void 0==i&&(i=1.70158),l*(t/=n)*t*((i+1)*t-i)+a},e.easing.easeOutBack=e.easing.easeOutBack||function(e,t,a,l,n,i){return void 0==i&&(i=1.70158),l*((t=t/n-1)*t*((i+1)*t+i)+1)+a},e.easing.easeInOutBack=e.easing.easeInOutBack||function(e,t,a,l,n,i){return void 0==i&&(i=1.70158),(t/=n/2)<1?l/2*(t*t*((1+(i*=1.525))*t-i))+a:l/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+a},e.easing.easeInBounce=e.easing.easeInBounce||function(t,a,l,n,i){return n-e.easing.easeOutBounce(t,i-a,0,n,i)+l},e.easing.easeOutBounce=e.easing.easeOutBounce||function(e,t,a,l,n){return(t/=n)<1/2.75?l*(7.5625*t*t)+a:t<2/2.75?l*(7.5625*(t-=1.5/2.75)*t+.75)+a:t<2.5/2.75?l*(7.5625*(t-=2.25/2.75)*t+.9375)+a:l*(7.5625*(t-=2.625/2.75)*t+.984375)+a},e.easing.easeInOutBounce=e.easing.easeInOutBounce||function(t,a,l,n,i){return a<i/2?.5*e.easing.easeInBounce(t,2*a,0,n,i)+l:.5*e.easing.easeOutBounce(t,2*a-i,0,n,i)+.5*n+l}}};_._easing.call(),e.fn.mPageScroll2id=function(t){return S[t]?S[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):S.init.apply(this,arguments)},e.mPageScroll2id=function(t){return S[t]?S[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):S.init.apply(this,arguments)},e.mPageScroll2id.defaults=p}(jQuery,window,document);